{"ast":null,"code":"import{useUser}from\"../contexts/UserContext\";import AnimatedList from\"./AnimatedList\";import FavCard from\"./FavCard\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const FavCards=_ref=>{let{list}=_ref;const{fetchFavoriteCarsList}=useUser();const[items,setItems]=useState(list);const handleRemove=async carNum=>{setItems(prev=>prev.filter(v=>v.car_num!==carNum));const res=await fetchFavoriteCarsList(carNum);if(res.error){alert(\"서버 오류\");// rollback 원하면 여기\n}};return/*#__PURE__*/_jsx(\"div\",{className:\"fav-cards\",children:/*#__PURE__*/_jsx(AnimatedList,{items:items,renderItem:item=>/*#__PURE__*/_jsx(FavCard,{data:item,onRemove:handleRemove})})});};export default FavCards;","map":{"version":3,"names":["useUser","AnimatedList","FavCard","useState","jsx","_jsx","FavCards","_ref","list","fetchFavoriteCarsList","items","setItems","handleRemove","carNum","prev","filter","v","car_num","res","error","alert","className","children","renderItem","item","data","onRemove"],"sources":["D:/포폴 사용/stay/src/pages/FavCards.js"],"sourcesContent":["import { useUser } from \"../contexts/UserContext\";\nimport AnimatedList from \"./AnimatedList\";\nimport FavCard from \"./FavCard\";\nimport { useState } from \"react\";\n\nconst FavCards = ({ list }) => {\n    const { fetchFavoriteCarsList } = useUser();\n    const [items, setItems] = useState(list);\n\n    const handleRemove = async (carNum) => {\n        setItems((prev) => prev.filter((v) => v.car_num !== carNum));\n\n        const res = await fetchFavoriteCarsList(carNum);\n\n        if (res.error) {\n            alert(\"서버 오류\");\n            // rollback 원하면 여기\n        }\n    };\n\n    return (\n        <div className=\"fav-cards\">\n            <AnimatedList\n                items={items}\n                renderItem={(item) => (\n                    <FavCard data={item} onRemove={handleRemove} />\n                )}\n            />\n        </div>\n    );\n};\n\nexport default FavCards;\n"],"mappings":"AAAA,OAASA,OAAO,KAAQ,yBAAyB,CACjD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,KAAM,CAAAC,QAAQ,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACtB,KAAM,CAAEE,qBAAsB,CAAC,CAAGT,OAAO,CAAC,CAAC,CAC3C,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAACK,IAAI,CAAC,CAExC,KAAM,CAAAI,YAAY,CAAG,KAAO,CAAAC,MAAM,EAAK,CACnCF,QAAQ,CAAEG,IAAI,EAAKA,IAAI,CAACC,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACC,OAAO,GAAKJ,MAAM,CAAC,CAAC,CAE5D,KAAM,CAAAK,GAAG,CAAG,KAAM,CAAAT,qBAAqB,CAACI,MAAM,CAAC,CAE/C,GAAIK,GAAG,CAACC,KAAK,CAAE,CACXC,KAAK,CAAC,OAAO,CAAC,CACd;AACJ,CACJ,CAAC,CAED,mBACIf,IAAA,QAAKgB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACtBjB,IAAA,CAACJ,YAAY,EACTS,KAAK,CAAEA,KAAM,CACba,UAAU,CAAGC,IAAI,eACbnB,IAAA,CAACH,OAAO,EAACuB,IAAI,CAAED,IAAK,CAACE,QAAQ,CAAEd,YAAa,CAAE,CAChD,CACL,CAAC,CACD,CAAC,CAEd,CAAC,CAED,cAAe,CAAAN,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}