{"ast":null,"code":"import{useParkingBoard}from\"../contexts/ParkingContext\";import{useState,useEffect}from\"react\";//주차 칸\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SpotCard=_ref=>{let{data}=_ref;const{regist_check,adjustment_check}=useParkingBoard();const isCarnum=data.occupant_car?true:false;const isResident=data.zone==='APT';const[regist,setRegist]=useState(null);const[adjustment,setAdjustment]=useState(null);const cartype={APT:\"입주민\",STORE:\"사업자\",DAILY:\"예약방문\",PERIOD:\"장기방문\"};useEffect(()=>{if(!(data!==null&&data!==void 0&&data.occupant_car)){setRegist(null);setAdjustment(null);return;}const fetchRegist=async()=>{const result=await regist_check(data.occupant_car);const adjustment_result=await adjustment_check(data.occupant_car);setRegist(result);setAdjustment(adjustment_result);};fetchRegist();},[data===null||data===void 0?void 0:data.occupant_car,regist_check,adjustment_check]);if(isResident){var _cartype$regist$car_T;//아파트표시카드\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"spot-card \\n        \".concat(isResident?'resident':'shop',\" \\n        \").concat(isCarnum?'carnum':'',\"\\n        \").concat(isCarnum?regist===null||regist===void 0?void 0:regist.car_Type:'',\" \\n      \"),children:[/*#__PURE__*/_jsx(\"p\",{children:data.spot_id}),/*#__PURE__*/_jsx(\"p\",{children:data.occupant_car}),/*#__PURE__*/_jsx(\"p\",{children:isCarnum?(_cartype$regist$car_T=cartype[regist===null||regist===void 0?void 0:regist.car_Type])!==null&&_cartype$regist$car_T!==void 0?_cartype$regist$car_T:\"일반방문\":''})]});}else{//상가표시카드\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"spot-card \\n        \".concat(isResident?'resident':'shop',\" \\n        \").concat(isCarnum?'carnum':'',\"\\n        \").concat(isCarnum?regist===null||regist===void 0?void 0:regist.car_Type:'',\" \\n      \"),children:[/*#__PURE__*/_jsx(\"p\",{children:data.spot_id}),/*#__PURE__*/_jsx(\"p\",{children:data.occupant_car}),/*#__PURE__*/_jsx(\"p\",{children:isCarnum?adjustment!==null&&adjustment!==void 0&&adjustment.settlement?\"정산완료\":\"미정산\":''})]});}};export default SpotCard;","map":{"version":3,"names":["useParkingBoard","useState","useEffect","jsx","_jsx","jsxs","_jsxs","SpotCard","_ref","data","regist_check","adjustment_check","isCarnum","occupant_car","isResident","zone","regist","setRegist","adjustment","setAdjustment","cartype","APT","STORE","DAILY","PERIOD","fetchRegist","result","adjustment_result","_cartype$regist$car_T","className","concat","car_Type","children","spot_id","settlement"],"sources":["D:/포폴 사용/stay/src/components/SpotCard.js"],"sourcesContent":["import { useParkingBoard } from \"../contexts/ParkingContext\";\nimport { useState, useEffect } from \"react\";\n//주차 칸\n\nconst SpotCard = ({data}) => {\n  const { regist_check,adjustment_check } = useParkingBoard();\n  const isCarnum = data.occupant_car ? true : false;\n  const isResident = data.zone === 'APT';\n  const [regist, setRegist] = useState(null);\n  const [adjustment, setAdjustment] = useState(null);\n  \n\n  const cartype = {\n  APT: \"입주민\",\n  STORE: \"사업자\",\n  DAILY: \"예약방문\",\n  PERIOD: \"장기방문\",\n  };\n  useEffect(() => {\n    if (!data?.occupant_car) {\n      setRegist(null);\n      setAdjustment(null);\n      return;\n    }\n    const fetchRegist = async () => {\n    const result = await regist_check(data.occupant_car);\n    const adjustment_result = await adjustment_check(data.occupant_car);\n    setRegist(result);\n    setAdjustment(adjustment_result);\n  };\n\n  fetchRegist();\n  \n  }, [data?.occupant_car, regist_check,adjustment_check]);\n\n  if(isResident){\n    //아파트표시카드\n      return (\n    <div \n      className={`spot-card \n        ${isResident?'resident':'shop'} \n        ${isCarnum ? 'carnum' : ''}\n        ${isCarnum ? regist?.car_Type :''} \n      `}\n    >\n      <p>{data.spot_id}</p>\n      <p>{data.occupant_car}</p>\n      <p>{isCarnum?(cartype[regist?.car_Type] ?? \"일반방문\"):''}</p>\n    </div>\n  )\n  } else{\n    //상가표시카드\n      return (\n    <div \n      className={`spot-card \n        ${isResident?'resident':'shop'} \n        ${isCarnum ? 'carnum' : ''}\n        ${isCarnum ? regist?.car_Type :''} \n      `}\n    >\n      <p>{data.spot_id}</p>\n      <p>{data.occupant_car}</p>\n      {/* <p>{isCarnum?(cartype[regist?.car_Type] ?? \"일반방문\"):''}</p> */}\n      <p>{isCarnum?(adjustment?.settlement?\"정산완료\" : \"미정산\"):''}</p>\n      \n      \n    </div>\n  )\n  }\n\n  \n}\n\nexport default SpotCard "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}