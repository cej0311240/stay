{"ast":null,"code":"// --- 주차 할인권 정산 ---\nimport\"./SaleCarIssue.scss\";import{useUser}from\"../../contexts/UserContext\";import{useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SaleCarIssue=()=>{const{profile,discountSummary,fetchStoreDiscountSummary}=useUser();//  profile.id 정보 요청\nuseEffect(()=>{if(!(profile!==null&&profile!==void 0&&profile.id))return;fetchStoreDiscountSummary();},[profile===null||profile===void 0?void 0:profile.id]);const handleSubmit=e=>{e.preventDefault();// 새로고침 방지\nif(!discountSummary)return;// 정산 정보 알림\nalert(\"\\uCD1D \".concat(discountSummary.qty,\"\\uC7A5 \\uBC1C\\uAE09,\\n\\uC815\\uC0B0 \\uAE08\\uC561: \").concat(discountSummary.total_amount,\"\\uC6D0,\\n\\uC815\\uC0B0\\uC77C: \").concat(discountSummary.settlement_date));};return/*#__PURE__*/_jsx(_Fragment,{children:!discountSummary?/*#__PURE__*/_jsx(\"div\",{className:\"issue-empty\",children:/*#__PURE__*/_jsx(\"div\",{className:\"issue-txt\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC544\\uC9C1 \\uBC1C\\uAE09\\uB41C \\uC8FC\\uCC28 \\uD560\\uC778\\uAD8C\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})})}):/*#__PURE__*/_jsxs(\"form\",{className:\"issue-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"issue-txt\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD604\\uC7AC\\uAE4C\\uC9C0 \\uBC1C\\uAE09\\uB41C \\uC8FC\\uCC28\\uD560\\uC778\\uAD8C\\uC740\",\" \",/*#__PURE__*/_jsxs(\"strong\",{children:[discountSummary.qty,\"\\uC7A5\"]}),\" \\uC785\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC815\\uC0B0\\uC77C\\uC740 \",/*#__PURE__*/_jsx(\"strong\",{children:discountSummary.settlement_date}),\" \",\"\\uC785\\uB2C8\\uB2E4.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"issue-btn\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC815\\uC0B0 \\uAE08\\uC561: \",discountSummary.total_amount,\"\\uC6D0\"]}),/*#__PURE__*/_jsx(\"button\",{children:\"\\uC815\\uC0B0\\uD558\\uAE30\"})]})]})});};export default SaleCarIssue;","map":{"version":3,"names":["useUser","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SaleCarIssue","profile","discountSummary","fetchStoreDiscountSummary","id","handleSubmit","e","preventDefault","alert","concat","qty","total_amount","settlement_date","children","className","onSubmit"],"sources":["D:/포폴 사용/stay/src/components/mode/SaleCarIssue.js"],"sourcesContent":["// --- 주차 할인권 정산 ---\nimport \"./SaleCarIssue.scss\";\nimport { useUser } from \"../../contexts/UserContext\";\nimport { useEffect } from \"react\";\n\nconst SaleCarIssue = () => {\n  const { profile, discountSummary, fetchStoreDiscountSummary } = useUser();\n\n  //  profile.id 정보 요청\n  useEffect(() => {\n    if (!profile?.id) return;\n    fetchStoreDiscountSummary();\n  }, [profile?.id]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault(); // 새로고침 방지\n    if (!discountSummary) return;\n\n    // 정산 정보 알림\n    alert(\n      `총 ${discountSummary.qty}장 발급,\n정산 금액: ${discountSummary.total_amount}원,\n정산일: ${discountSummary.settlement_date}`\n    );\n  };\n\n  return (\n    <>\n      {!discountSummary ? (\n        <div className=\"issue-empty\">\n          <div className=\"issue-txt\">\n            <p>아직 발급된 주차 할인권이 없습니다.</p>\n          </div>\n        </div>\n      ) : (\n        <form className=\"issue-form\" onSubmit={handleSubmit}>\n          <div className=\"issue-txt\">\n            <p>\n              현재까지 발급된 주차할인권은{\" \"}\n              <strong>{discountSummary.qty}장</strong> 입니다.\n            </p>\n            <p>\n              정산일은 <strong>{discountSummary.settlement_date}</strong>{\" \"}\n              입니다.\n            </p>\n          </div>\n          <div className=\"issue-btn\">\n            <p>정산 금액: {discountSummary.total_amount}원</p>\n            <button>정산하기</button>\n          </div>\n        </form>\n      )}\n    </>\n  );\n};\n\nexport default SaleCarIssue;\n"],"mappings":"AAAA;AACA,MAAO,qBAAqB,CAC5B,OAASA,OAAO,KAAQ,4BAA4B,CACpD,OAASC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElC,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,OAAO,CAAEC,eAAe,CAAEC,yBAA0B,CAAC,CAAGX,OAAO,CAAC,CAAC,CAEzE;AACAC,SAAS,CAAC,IAAM,CACd,GAAI,EAACQ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEG,EAAE,EAAE,OAClBD,yBAAyB,CAAC,CAAC,CAC7B,CAAC,CAAE,CAACF,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAEG,EAAE,CAAC,CAAC,CAEjB,KAAM,CAAAC,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE;AACpB,GAAI,CAACL,eAAe,CAAE,OAEtB;AACAM,KAAK,WAAAC,MAAA,CACEP,eAAe,CAACQ,GAAG,sDAAAD,MAAA,CACrBP,eAAe,CAACS,YAAY,kCAAAF,MAAA,CAC9BP,eAAe,CAACU,eAAe,CAClC,CAAC,CACH,CAAC,CAED,mBACEjB,IAAA,CAAAI,SAAA,EAAAc,QAAA,CACG,CAACX,eAAe,cACfP,IAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1BlB,IAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAD,QAAA,cACxBlB,IAAA,MAAAkB,QAAA,CAAG,iGAAoB,CAAG,CAAC,CACxB,CAAC,CACH,CAAC,cAENhB,KAAA,SAAMiB,SAAS,CAAC,YAAY,CAACC,QAAQ,CAAEV,YAAa,CAAAQ,QAAA,eAClDhB,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBhB,KAAA,MAAAgB,QAAA,EAAG,kFACc,CAAC,GAAG,cACnBhB,KAAA,WAAAgB,QAAA,EAASX,eAAe,CAACQ,GAAG,CAAC,QAAC,EAAQ,CAAC,uBACzC,EAAG,CAAC,cACJb,KAAA,MAAAgB,QAAA,EAAG,2BACI,cAAAlB,IAAA,WAAAkB,QAAA,CAASX,eAAe,CAACU,eAAe,CAAS,CAAC,CAAC,GAAG,CAAC,qBAE9D,EAAG,CAAC,EACD,CAAC,cACNf,KAAA,QAAKiB,SAAS,CAAC,WAAW,CAAAD,QAAA,eACxBhB,KAAA,MAAAgB,QAAA,EAAG,6BAAO,CAACX,eAAe,CAACS,YAAY,CAAC,QAAC,EAAG,CAAC,cAC7ChB,IAAA,WAAAkB,QAAA,CAAQ,0BAAI,CAAQ,CAAC,EAClB,CAAC,EACF,CACP,CACD,CAAC,CAEP,CAAC,CAED,cAAe,CAAAb,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}