{"ast":null,"code":"import{useRef,useState,useEffect,useCallback}from\"react\";import{motion,useInView}from\"framer-motion\";import\"./AnimatedList.scss\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const AnimatedItem=_ref=>{let{children,delay=0,index,onMouseEnter,onClick}=_ref;const ref=useRef(null);const inView=useInView(ref,{amount:0.5,triggerOnce:false});return/*#__PURE__*/_jsx(motion.div,{ref:ref,\"data-index\":index,onMouseEnter:onMouseEnter,onClick:onClick,initial:{scale:0.9,opacity:0},animate:inView?{scale:1,opacity:1}:{scale:0.9,opacity:0},transition:{duration:0.25,ease:\"easeOut\"},children:children});};/* ---------------- AnimatedList ---------------- */const AnimatedList=_ref2=>{let{items=[],renderItem,onItemSelect,showGradients=true,enableArrowNavigation=true,className=\"\",itemClassName=\"\",displayScrollbar=true,initialSelectedIndex=-1}=_ref2;const listRef=useRef(null);const[selectedIndex,setSelectedIndex]=useState(initialSelectedIndex);const[keyboardNav,setKeyboardNav]=useState(false);const[topGradientOpacity,setTopGradientOpacity]=useState(0);const[bottomGradientOpacity,setBottomGradientOpacity]=useState(1);const handleItemMouseEnter=useCallback(index=>{setSelectedIndex(index);},[]);const handleItemClick=useCallback((item,index)=>{setSelectedIndex(index);onItemSelect===null||onItemSelect===void 0?void 0:onItemSelect(item,index);},[onItemSelect]);const handleScroll=useCallback(e=>{const{scrollTop,scrollHeight,clientHeight}=e.target;setTopGradientOpacity(Math.min(scrollTop/50,1));const bottomDistance=scrollHeight-(scrollTop+clientHeight);setBottomGradientOpacity(scrollHeight<=clientHeight?0:Math.min(bottomDistance/50,1));},[]);/* 키보드 네비 */useEffect(()=>{if(!enableArrowNavigation)return;const handleKeyDown=e=>{if(e.key===\"ArrowDown\"){e.preventDefault();setKeyboardNav(true);setSelectedIndex(prev=>Math.min(prev+1,items.length-1));}if(e.key===\"ArrowUp\"){e.preventDefault();setKeyboardNav(true);setSelectedIndex(prev=>Math.max(prev-1,0));}if(e.key===\"Enter\"&&selectedIndex>=0){e.preventDefault();onItemSelect===null||onItemSelect===void 0?void 0:onItemSelect(items[selectedIndex],selectedIndex);}};window.addEventListener(\"keydown\",handleKeyDown);return()=>window.removeEventListener(\"keydown\",handleKeyDown);},[items,selectedIndex,onItemSelect,enableArrowNavigation]);/* 선택 아이템 자동 스크롤 */useEffect(()=>{if(!keyboardNav||selectedIndex<0||!listRef.current)return;const container=listRef.current;const selectedItem=container.querySelector(\"[data-index=\\\"\".concat(selectedIndex,\"\\\"]\"));if(selectedItem){const extraMargin=50;const itemTop=selectedItem.offsetTop;const itemBottom=itemTop+selectedItem.offsetHeight;if(itemTop<container.scrollTop+extraMargin){container.scrollTo({top:itemTop-extraMargin,behavior:\"smooth\"});}else if(itemBottom>container.scrollTop+container.clientHeight-extraMargin){container.scrollTo({top:itemBottom-container.clientHeight+extraMargin,behavior:\"smooth\"});}}setKeyboardNav(false);},[selectedIndex,keyboardNav]);return/*#__PURE__*/_jsxs(\"div\",{className:\"scroll-list-container \".concat(className),children:[/*#__PURE__*/_jsx(\"div\",{ref:listRef,className:\"scroll-list \".concat(!displayScrollbar?\"no-scrollbar\":\"\"),onScroll:handleScroll,children:items.map((item,index)=>{var _item$id;return/*#__PURE__*/_jsx(AnimatedItem,{delay:0.1,index:index,onMouseEnter:()=>handleItemMouseEnter(index),onClick:()=>handleItemClick(item,index),children:/*#__PURE__*/_jsx(\"div\",{className:\"item \".concat(selectedIndex===index?\"selected\":\"\",\" \").concat(itemClassName),children:renderItem?renderItem(item,index):/*#__PURE__*/_jsx(\"p\",{className:\"item-text\",children:item})})},(_item$id=item===null||item===void 0?void 0:item.id)!==null&&_item$id!==void 0?_item$id:index);})}),showGradients&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"top-gradient\",style:{opacity:topGradientOpacity}}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom-gradient\",style:{opacity:bottomGradientOpacity}})]})]});};export default AnimatedList;","map":{"version":3,"names":["useRef","useState","useEffect","useCallback","motion","useInView","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","AnimatedItem","_ref","children","delay","index","onMouseEnter","onClick","ref","inView","amount","triggerOnce","div","initial","scale","opacity","animate","transition","duration","ease","AnimatedList","_ref2","items","renderItem","onItemSelect","showGradients","enableArrowNavigation","className","itemClassName","displayScrollbar","initialSelectedIndex","listRef","selectedIndex","setSelectedIndex","keyboardNav","setKeyboardNav","topGradientOpacity","setTopGradientOpacity","bottomGradientOpacity","setBottomGradientOpacity","handleItemMouseEnter","handleItemClick","item","handleScroll","e","scrollTop","scrollHeight","clientHeight","target","Math","min","bottomDistance","handleKeyDown","key","preventDefault","prev","length","max","window","addEventListener","removeEventListener","current","container","selectedItem","querySelector","concat","extraMargin","itemTop","offsetTop","itemBottom","offsetHeight","scrollTo","top","behavior","onScroll","map","_item$id","id","style"],"sources":["D:/포폴 사용/stay/src/pages/AnimatedList.js"],"sourcesContent":["import { useRef, useState, useEffect, useCallback } from \"react\";\nimport { motion, useInView } from \"framer-motion\";\nimport \"./AnimatedList.scss\";\n\nconst AnimatedItem = ({\n    children,\n    delay = 0,\n    index,\n    onMouseEnter,\n    onClick,\n}) => {\n    const ref = useRef(null);\n    const inView = useInView(ref, { amount: 0.5, triggerOnce: false });\n\n    return (\n        <motion.div\n            ref={ref}\n            data-index={index}\n            onMouseEnter={onMouseEnter}\n            onClick={onClick}\n            initial={{ scale: 0.9, opacity: 0 }}\n            animate={\n                inView ? { scale: 1, opacity: 1 } : { scale: 0.9, opacity: 0 }\n            }\n            transition={{ duration: 0.25, ease: \"easeOut\" }}\n        >\n            {children}\n        </motion.div>\n    );\n};\n\n/* ---------------- AnimatedList ---------------- */\nconst AnimatedList = ({\n    items = [],\n    renderItem,\n    onItemSelect,\n    showGradients = true,\n    enableArrowNavigation = true,\n    className = \"\",\n    itemClassName = \"\",\n    displayScrollbar = true,\n    initialSelectedIndex = -1,\n}) => {\n    const listRef = useRef(null);\n    const [selectedIndex, setSelectedIndex] = useState(initialSelectedIndex);\n    const [keyboardNav, setKeyboardNav] = useState(false);\n    const [topGradientOpacity, setTopGradientOpacity] = useState(0);\n    const [bottomGradientOpacity, setBottomGradientOpacity] = useState(1);\n\n    const handleItemMouseEnter = useCallback((index) => {\n        setSelectedIndex(index);\n    }, []);\n\n    const handleItemClick = useCallback(\n        (item, index) => {\n            setSelectedIndex(index);\n            onItemSelect?.(item, index);\n        },\n        [onItemSelect]\n    );\n\n    const handleScroll = useCallback((e) => {\n        const { scrollTop, scrollHeight, clientHeight } = e.target;\n        setTopGradientOpacity(Math.min(scrollTop / 50, 1));\n\n        const bottomDistance = scrollHeight - (scrollTop + clientHeight);\n        setBottomGradientOpacity(\n            scrollHeight <= clientHeight ? 0 : Math.min(bottomDistance / 50, 1)\n        );\n    }, []);\n\n    /* 키보드 네비 */\n    useEffect(() => {\n        if (!enableArrowNavigation) return;\n\n        const handleKeyDown = (e) => {\n            if (e.key === \"ArrowDown\") {\n                e.preventDefault();\n                setKeyboardNav(true);\n                setSelectedIndex((prev) =>\n                    Math.min(prev + 1, items.length - 1)\n                );\n            }\n\n            if (e.key === \"ArrowUp\") {\n                e.preventDefault();\n                setKeyboardNav(true);\n                setSelectedIndex((prev) => Math.max(prev - 1, 0));\n            }\n\n            if (e.key === \"Enter\" && selectedIndex >= 0) {\n                e.preventDefault();\n                onItemSelect?.(items[selectedIndex], selectedIndex);\n            }\n        };\n\n        window.addEventListener(\"keydown\", handleKeyDown);\n        return () => window.removeEventListener(\"keydown\", handleKeyDown);\n    }, [items, selectedIndex, onItemSelect, enableArrowNavigation]);\n\n    /* 선택 아이템 자동 스크롤 */\n    useEffect(() => {\n        if (!keyboardNav || selectedIndex < 0 || !listRef.current) return;\n\n        const container = listRef.current;\n        const selectedItem = container.querySelector(\n            `[data-index=\"${selectedIndex}\"]`\n        );\n\n        if (selectedItem) {\n            const extraMargin = 50;\n            const itemTop = selectedItem.offsetTop;\n            const itemBottom = itemTop + selectedItem.offsetHeight;\n\n            if (itemTop < container.scrollTop + extraMargin) {\n                container.scrollTo({\n                    top: itemTop - extraMargin,\n                    behavior: \"smooth\",\n                });\n            } else if (\n                itemBottom >\n                container.scrollTop + container.clientHeight - extraMargin\n            ) {\n                container.scrollTo({\n                    top: itemBottom - container.clientHeight + extraMargin,\n                    behavior: \"smooth\",\n                });\n            }\n        }\n\n        setKeyboardNav(false);\n    }, [selectedIndex, keyboardNav]);\n\n    return (\n        <div className={`scroll-list-container ${className}`}>\n            <div\n                ref={listRef}\n                className={`scroll-list ${\n                    !displayScrollbar ? \"no-scrollbar\" : \"\"\n                }`}\n                onScroll={handleScroll}\n            >\n                {items.map((item, index) => (\n                    <AnimatedItem\n                        key={item?.id ?? index}\n                        delay={0.1}\n                        index={index}\n                        onMouseEnter={() => handleItemMouseEnter(index)}\n                        onClick={() => handleItemClick(item, index)}\n                    >\n                        <div\n                            className={`item ${\n                                selectedIndex === index ? \"selected\" : \"\"\n                            } ${itemClassName}`}\n                        >\n                            {renderItem ? (\n                                renderItem(item, index)\n                            ) : (\n                                <p className=\"item-text\">{item}</p>\n                            )}\n                        </div>\n                    </AnimatedItem>\n                ))}\n            </div>\n\n            {showGradients && (\n                <>\n                    <div\n                        className=\"top-gradient\"\n                        style={{ opacity: topGradientOpacity }}\n                    />\n                    <div\n                        className=\"bottom-gradient\"\n                        style={{ opacity: bottomGradientOpacity }}\n                    />\n                </>\n            )}\n        </div>\n    );\n};\n\nexport default AnimatedList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}