{"ast":null,"code":"// --- 장기 차량 등록 ---\nimport{useState}from\"react\";// 날짜 선택 라이브러리\nimport DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import\"./Car.scss\";import{useUser}from\"../../contexts/UserContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LongCar=()=>{const[carNumber,setCarNumber]=useState(\"\");// 차량 번호\nconst[visitDate,setVisitDate]=useState(null);// 장기 방문 사유\nconst[reason,setReason]=useState(\"\");// 장기 방문 등록 함수 가져오기\nconst{createPeriod}=useUser();const handleSubmit=async e=>{e.preventDefault();// 새로고침 방지\n// 차량 번호, 방문 날짜 체크\nif(!carNumber||!visitDate){alert(\"차량 번호와 방문 날짜를 입력해주세요.\");return;}// 방문 사유 공백 체크\nif(!reason.trim()){alert(\"장기 방문 사유를 입력해주세요.\");return;}// 날짜  YYYY-MM-DD 형식으로 변환\nconst dateISO=visitDate.toISOString().slice(0,10);const res=await createPeriod({carNum:carNumber,// 차량번호\nstartDateISO:dateISO,// 시작 날짜\nendDateISO:dateISO,// 종료 날짜\npurpose:reason// 방문 목적\n});// 실패 안내문\nif(!res.ok){alert(res.message||\"등록 실패\");return;}// 성공 안내문\nalert(\"장기 방문 차량 등록 성공!\");// 입력값 초기화\nsetCarNumber(\"\");setVisitDate(null);setReason(\"\");};return/*#__PURE__*/_jsxs(\"form\",{className:\"long-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uCC28\\uB7C9 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:carNumber,placeholder:\"\\uCC28\\uB7C9\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:e=>setCarNumber(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uBC29\\uBB38 \\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(DatePicker,{selected:visitDate,onChange:date=>setVisitDate(date),placeholderText:\"\\uBC29\\uBB38 \\uB0A0\\uC9DC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\",dateFormat:\"yyyy.MM.dd\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uBC29\\uBB38 \\uC0AC\\uC720 (\\uC7A5\\uAE30 \\uBC29\\uBB38 \\uD544\\uC218)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:reason,placeholder:\"\\uBC29\\uBB38 \\uC0AC\\uC720\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:e=>setReason(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"car-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uCC28\\uB7C9 \\uB4F1\\uB85D\"})})]});};export default LongCar;","map":{"version":3,"names":["useState","DatePicker","useUser","jsx","_jsx","jsxs","_jsxs","LongCar","carNumber","setCarNumber","visitDate","setVisitDate","reason","setReason","createPeriod","handleSubmit","e","preventDefault","alert","trim","dateISO","toISOString","slice","res","carNum","startDateISO","endDateISO","purpose","ok","message","className","onSubmit","children","type","value","placeholder","onChange","target","selected","date","placeholderText","dateFormat"],"sources":["D:/포폴 사용/stay/src/components/mode/LongCar.js"],"sourcesContent":["// --- 장기 차량 등록 ---\nimport { useState } from \"react\";\n\n// 날짜 선택 라이브러리\nimport DatePicker from \"react-datepicker\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport \"./Car.scss\";\nimport { useUser } from \"../../contexts/UserContext\";\n\nconst LongCar = () => {\n  const [carNumber, setCarNumber] = useState(\"\"); // 차량 번호\n  const [visitDate, setVisitDate] = useState(null); // 장기 방문 사유\n  const [reason, setReason] = useState(\"\"); // 장기 방문 등록 함수 가져오기\n\n  const { createPeriod } = useUser();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // 새로고침 방지\n\n    // 차량 번호, 방문 날짜 체크\n    if (!carNumber || !visitDate) {\n      alert(\"차량 번호와 방문 날짜를 입력해주세요.\");\n      return;\n    }\n\n    // 방문 사유 공백 체크\n    if (!reason.trim()) {\n      alert(\"장기 방문 사유를 입력해주세요.\");\n      return;\n    }\n    // 날짜  YYYY-MM-DD 형식으로 변환\n    const dateISO = visitDate.toISOString().slice(0, 10);\n\n    const res = await createPeriod({\n      carNum: carNumber, // 차량번호\n      startDateISO: dateISO, // 시작 날짜\n      endDateISO: dateISO, // 종료 날짜\n      purpose: reason, // 방문 목적\n    });\n\n    // 실패 안내문\n    if (!res.ok) {\n      alert(res.message || \"등록 실패\");\n      return;\n    }\n    // 성공 안내문\n    alert(\"장기 방문 차량 등록 성공!\");\n\n    // 입력값 초기화\n    setCarNumber(\"\");\n    setVisitDate(null);\n    setReason(\"\");\n  };\n\n  return (\n    <form className=\"long-form\" onSubmit={handleSubmit}>\n      <div className=\"input-group\">\n        <label>차량 번호</label>\n        <input\n          type=\"text\"\n          value={carNumber}\n          placeholder=\"차량번호를 입력해주세요\"\n          onChange={(e) => setCarNumber(e.target.value)}\n        />\n      </div>\n\n      <div className=\"input-group\">\n        <p>방문 날짜</p>\n        <DatePicker\n          selected={visitDate}\n          onChange={(date) => setVisitDate(date)}\n          placeholderText=\"방문 날짜를 선택해주세요\"\n          dateFormat=\"yyyy.MM.dd\"\n        />\n      </div>\n\n      <div className=\"input-group\">\n        <label>방문 사유 (장기 방문 필수)</label>\n        <input\n          type=\"text\"\n          value={reason}\n          placeholder=\"방문 사유를 입력해주세요\"\n          onChange={(e) => setReason(e.target.value)}\n        />\n      </div>\n\n      <div className=\"car-btn\">\n        <button type=\"submit\">차량 등록</button>\n      </div>\n    </form>\n  );\n};\n\nexport default LongCar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}