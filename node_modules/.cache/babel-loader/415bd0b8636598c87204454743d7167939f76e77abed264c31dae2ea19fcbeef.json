{"ast":null,"code":"// --- 주차 할인권 발급 ---\nimport{useState}from\"react\";import\"./Car.scss\";import{useUser}from\"../../contexts/UserContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SaleCar=()=>{const[carNumber,setCarNumber]=useState(\"\");const[carSale,setCarSale]=useState(\"\");const{issueStoreDiscount}=useUser();const handleSubmit=async e=>{e.preventDefault();// 새로고침 방지\n// 공백 문 안내문\nif(!carNumber||!carSale){alert(\"차량번호와 할인권 시간을 선택해주세요.\");return;}// 할인권 시간을 분 으로 변환\nconst minutes=parseInt(carSale,10);// 할인권 발급 분 단위로 전달\nconst res=await issueStoreDiscount(minutes,carNumber);// 실패 안내문\nif(!res.ok){alert(res.message||\"발급 실패\");return;}// 성공 요약 안내문\nalert(\"\\uCC28\\uB7C9 \".concat(carNumber,\" \\uD560\\uC778\\uAD8C \").concat(minutes,\"\\uBD84 \\uBC1C\\uAE09 \\uC644\\uB8CC!\"));setCarNumber(\"\");setCarSale(\"\");};return/*#__PURE__*/_jsxs(\"form\",{className:\"sale-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uCC28\\uB7C9 \\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:carNumber,placeholder:\"\\uCC28\\uB7C9\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",onChange:e=>setCarNumber(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\uD560\\uC778\\uAD8C \\uC120\\uD0DD\"}),/*#__PURE__*/_jsxs(\"select\",{value:carSale,onChange:e=>setCarSale(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uD560\\uC778\\uAD8C \\uC2DC\\uAC04\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"30\\uBD84\"}),/*#__PURE__*/_jsx(\"option\",{value:\"60\",children:\"1\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90\",children:\"1\\uC2DC\\uAC04 30\\uBD84\"}),/*#__PURE__*/_jsx(\"option\",{value:\"120\",children:\"2\\uC2DC\\uAC04\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"car-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uD560\\uC778\\uAD8C \\uBC1C\\uAE09\"})})]});};export default SaleCar;","map":{"version":3,"names":["useState","useUser","jsx","_jsx","jsxs","_jsxs","SaleCar","carNumber","setCarNumber","carSale","setCarSale","issueStoreDiscount","handleSubmit","e","preventDefault","alert","minutes","parseInt","res","ok","message","concat","className","onSubmit","children","type","value","placeholder","onChange","target"],"sources":["D:/포폴 사용/stay/src/components/mode/SaleCar.js"],"sourcesContent":["// --- 주차 할인권 발급 ---\nimport { useState } from \"react\";\nimport \"./Car.scss\";\nimport { useUser } from \"../../contexts/UserContext\";\n\nconst SaleCar = () => {\n  const [carNumber, setCarNumber] = useState(\"\");\n  const [carSale, setCarSale] = useState(\"\");\n\n  const { issueStoreDiscount } = useUser();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // 새로고침 방지\n\n    // 공백 문 안내문\n    if (!carNumber || !carSale) {\n      alert(\"차량번호와 할인권 시간을 선택해주세요.\");\n      return;\n    }\n    // 할인권 시간을 분 으로 변환\n    const minutes = parseInt(carSale, 10);\n    // 할인권 발급 분 단위로 전달\n    const res = await issueStoreDiscount(minutes,carNumber);\n\n    // 실패 안내문\n    if (!res.ok) {\n      alert(res.message || \"발급 실패\");\n      return;\n    }\n\n    // 성공 요약 안내문\n    alert(`차량 ${carNumber} 할인권 ${minutes}분 발급 완료!`);\n    setCarNumber(\"\");\n    setCarSale(\"\");\n  };\n\n  return (\n    <form className=\"sale-form\" onSubmit={handleSubmit}>\n      <div className=\"input-group\">\n        <label>차량 번호</label>\n        <input\n          type=\"text\"\n          value={carNumber}\n          placeholder=\"차량번호를 입력해주세요\"\n          onChange={(e) => setCarNumber(e.target.value)}\n        />\n      </div>\n\n      <div className=\"input-group\">\n        <label>할인권 선택</label>\n        <select value={carSale} onChange={(e) => setCarSale(e.target.value)}>\n          <option value=\"\">할인권 시간을 선택해주세요</option>\n          <option value=\"30\">30분</option>\n          <option value=\"60\">1시간</option>\n          <option value=\"90\">1시간 30분</option>\n          <option value=\"120\">2시간</option>\n        </select>\n      </div>\n      <div className=\"car-btn\">\n        <button type=\"submit\">할인권 발급</button>\n      </div>\n    </form>\n  );\n};\n\nexport default SaleCar;\n"],"mappings":"AAAA;AACA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAO,YAAY,CACnB,OAASC,OAAO,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAEW,kBAAmB,CAAC,CAAGV,OAAO,CAAC,CAAC,CAExC,KAAM,CAAAW,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAAE;AAEpB;AACA,GAAI,CAACP,SAAS,EAAI,CAACE,OAAO,CAAE,CAC1BM,KAAK,CAAC,uBAAuB,CAAC,CAC9B,OACF,CACA;AACA,KAAM,CAAAC,OAAO,CAAGC,QAAQ,CAACR,OAAO,CAAE,EAAE,CAAC,CACrC;AACA,KAAM,CAAAS,GAAG,CAAG,KAAM,CAAAP,kBAAkB,CAACK,OAAO,CAACT,SAAS,CAAC,CAEvD;AACA,GAAI,CAACW,GAAG,CAACC,EAAE,CAAE,CACXJ,KAAK,CAACG,GAAG,CAACE,OAAO,EAAI,OAAO,CAAC,CAC7B,OACF,CAEA;AACAL,KAAK,iBAAAM,MAAA,CAAOd,SAAS,yBAAAc,MAAA,CAAQL,OAAO,qCAAU,CAAC,CAC/CR,YAAY,CAAC,EAAE,CAAC,CAChBE,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,CAED,mBACEL,KAAA,SAAMiB,SAAS,CAAC,WAAW,CAACC,QAAQ,CAAEX,YAAa,CAAAY,QAAA,eACjDnB,KAAA,QAAKiB,SAAS,CAAC,aAAa,CAAAE,QAAA,eAC1BrB,IAAA,UAAAqB,QAAA,CAAO,2BAAK,CAAO,CAAC,cACpBrB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEnB,SAAU,CACjBoB,WAAW,CAAC,qEAAc,CAC1BC,QAAQ,CAAGf,CAAC,EAAKL,YAAY,CAACK,CAAC,CAACgB,MAAM,CAACH,KAAK,CAAE,CAC/C,CAAC,EACC,CAAC,cAENrB,KAAA,QAAKiB,SAAS,CAAC,aAAa,CAAAE,QAAA,eAC1BrB,IAAA,UAAAqB,QAAA,CAAO,iCAAM,CAAO,CAAC,cACrBnB,KAAA,WAAQqB,KAAK,CAAEjB,OAAQ,CAACmB,QAAQ,CAAGf,CAAC,EAAKH,UAAU,CAACG,CAAC,CAACgB,MAAM,CAACH,KAAK,CAAE,CAAAF,QAAA,eAClErB,IAAA,WAAQuB,KAAK,CAAC,EAAE,CAAAF,QAAA,CAAC,4EAAc,CAAQ,CAAC,cACxCrB,IAAA,WAAQuB,KAAK,CAAC,IAAI,CAAAF,QAAA,CAAC,UAAG,CAAQ,CAAC,cAC/BrB,IAAA,WAAQuB,KAAK,CAAC,IAAI,CAAAF,QAAA,CAAC,eAAG,CAAQ,CAAC,cAC/BrB,IAAA,WAAQuB,KAAK,CAAC,IAAI,CAAAF,QAAA,CAAC,wBAAO,CAAQ,CAAC,cACnCrB,IAAA,WAAQuB,KAAK,CAAC,KAAK,CAAAF,QAAA,CAAC,eAAG,CAAQ,CAAC,EAC1B,CAAC,EACN,CAAC,cACNrB,IAAA,QAAKmB,SAAS,CAAC,SAAS,CAAAE,QAAA,cACtBrB,IAAA,WAAQsB,IAAI,CAAC,QAAQ,CAAAD,QAAA,CAAC,iCAAM,CAAQ,CAAC,CAClC,CAAC,EACF,CAAC,CAEX,CAAC,CAED,cAAe,CAAAlB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}